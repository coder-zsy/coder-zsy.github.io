"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[55],{49644:function(rr,k,d){d.r(k),d.d(k,{default:function(){return ze}});var ge=d(26068),M=d.n(ge),he=d(31759),C=d.n(he),Se=d(90228),w=d.n(Se),Pe=d(87999),z=d.n(Pe),ye=d(48305),y=d.n(ye),Fe=d(97202),be=d(51163),Ce=d(40514),we=d(68321),xe=d(40557),F=d(82717),Ee=d(73663),D=d(85973),Me=d(42479),Ge=d(89582),q=d(42614),Ae=d(76782),je=d(45014),_=d(97050),O=d(2951),x=d(75271),o=d(52676),ve=we.Z.Dragger,Te=xe.Z.Title,Ie=function(){var De=(0,x.useState)(!1),ee=y()(De,2),K=ee[0],G=ee[1],Oe=(0,x.useState)(""),re=y()(Oe,2),A=re[0],te=re[1],Be=(0,x.useState)({}),ne=y()(Be,2),ie=ne[0],B=ne[1],Le=(0,x.useState)(""),ae=y()(Le,2),Ne=ae[0],L=ae[1],Ze=(0,x.useState)(null),ue=y()(Ze,2),N=ue[0],W=ue[1],Re=(0,x.useState)(null),se=y()(Re,2),U=se[0],Je=se[1],Ve=(0,x.useState)(""),ce=y()(Ve,2),Y=ce[0],oe=ce[1],Ke=function(){var c=z()(w()().mark(function t(r){var e,n,i,a,u,l,m;return w()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return G(!0),s.prev=1,Je(r),e={name:r.name,size:r.size,type:r.type,lastModified:new Date(r.lastModified).toLocaleString(),sizeFormatted:X(r.size)},W(e),n=URL.createObjectURL(r),te(n),oe(""),s.next=10,O.ZP.parse(r,{iptc:!0,xmp:!0,icc:!0,jfif:!0,ihdr:!0,gps:!0,translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!1,mergeOutput:!1,pick:void 0,skip:[]});case 10:return i=s.sent,a=null,s.prev=12,s.next=15,O.ZP.gps(r);case 15:a=s.sent,s.next=20;break;case 18:s.prev=18,s.t0=s.catch(12);case 20:if(u={},!(!i||Object.keys(i).length===0)){s.next=29;break}return s.next=24,O.ZP.parse(r);case 24:l=s.sent,u=l||{},F.ZP.warning("\u672A\u68C0\u6D4B\u5230\u5B8C\u6574\u7684\u5143\u6570\u636E\u4FE1\u606F\uFF0C\u4EC5\u663E\u793A\u57FA\u672C\u4FE1\u606F"),s.next=30;break;case 29:u=i;case 30:a&&a.latitude&&a.longitude&&(u.GPSFormatted=le(a.latitude,a.longitude),u.GPSAltitude!=null&&(m=typeof u.GPSAltitude=="number"?u.GPSAltitude:parseFloat(String(u.GPSAltitude)),isNaN(m)||(u.GPSAltitudeFormatted="".concat(m.toFixed(2)," \u7C73")))),B(u),L(JSON.stringify(u,null,2)),s.next=41;break;case 35:s.prev=35,s.t1=s.catch(1),console.error("\u89E3\u6790\u5143\u6570\u636E\u5931\u8D25:",s.t1),F.ZP.error("\u89E3\u6790\u56FE\u7247\u5143\u6570\u636E\u5931\u8D25\uFF0C\u8BF7\u786E\u4FDD\u4E0A\u4F20\u7684\u662F\u6709\u6548\u7684\u56FE\u7247\u6587\u4EF6"),B({}),L("");case 41:return s.prev=41,G(!1),s.finish(41);case 44:case"end":return s.stop()}},t,null,[[1,35,41,44],[12,18]])}));return function(r){return c.apply(this,arguments)}}(),X=function(t){if(t===0)return"0 Bytes";var r=1024,e=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(t)/Math.log(r));return Math.round(t/Math.pow(r,n)*100)/100+" "+e[n]},le=function(t,r){if(t==null||r==null)return"\u65E0";var e=t>=0?"N":"S",n=r>=0?"E":"W",i=Math.abs(t),a=Math.abs(r),u=Math.floor(i),l=Math.floor((i-u)*60),m=((i-u-l/60)*3600).toFixed(2),f=Math.floor(a),s=Math.floor((a-f)*60),p=((a-f-s/60)*3600).toFixed(2);return"".concat(u,"\xB0").concat(l,"'").concat(m,'"').concat(e,", ").concat(f,"\xB0").concat(s,"'").concat(p,'"').concat(n," (").concat(t.toFixed(6),", ").concat(r.toFixed(6),")")},We=function(t){if(!t)return"N/A";try{var r=new Date(t);return isNaN(r.getTime())?String(t):r.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch(e){return String(t)}},Ue=function(t){return t==null?"\u65E0":typeof t=="number"?t>=1?"".concat(t.toFixed(1)," \u79D2"):"1/".concat(Math.round(1/t)," \u79D2"):String(t)},Ye=function(t){return t==null?"\u65E0":typeof t=="number"?"f/".concat(t.toFixed(1)):String(t)},Xe=function(t){return t==null?"\u65E0":typeof t=="number"?"".concat(t.toFixed(0)," mm"):String(t)},Z=function(t){if(/[\u4e00-\u9fa5]/.test(t))return t;var r={Make:"\u76F8\u673A\u54C1\u724C",Model:"\u76F8\u673A\u578B\u53F7",Software:"\u8F6F\u4EF6",Artist:"\u4F5C\u8005",Copyright:"\u7248\u6743\u4FE1\u606F",ImageWidth:"\u56FE\u7247\u5BBD\u5EA6",ImageHeight:"\u56FE\u7247\u9AD8\u5EA6",ThumbnailWidth:"\u7F29\u7565\u56FE\u5BBD\u5EA6",ThumbnailHeight:"\u7F29\u7565\u56FE\u9AD8\u5EA6",ThumbnailImage:"\u7F29\u7565\u56FE\u56FE\u50CF",ThumbnailOffset:"\u7F29\u7565\u56FE\u504F\u79FB",ThumbnailLength:"\u7F29\u7565\u56FE\u957F\u5EA6",ColorSpace:"\u989C\u8272\u7A7A\u95F4",XResolution:"\u6C34\u5E73\u5206\u8FA8\u7387",YResolution:"\u5782\u76F4\u5206\u8FA8\u7387",ResolutionUnit:"\u5206\u8FA8\u7387\u5355\u4F4D",MIMEType:"MIME \u7C7B\u578B",DateTime:"\u65E5\u671F\u65F6\u95F4",DateTimeOriginal:"\u62CD\u6444\u65F6\u95F4",DateTimeDigitized:"\u6570\u5B57\u5316\u65F6\u95F4",SubSecTime:"\u5B50\u79D2\u65F6\u95F4",SubSecTimeOriginal:"\u5B50\u79D2\u65F6\u95F4\uFF08\u539F\u59CB\uFF09",SubSecTimeDigitized:"\u5B50\u79D2\u65F6\u95F4\uFF08\u6570\u5B57\u5316\uFF09",GPSLatitude:"GPS \u7EAC\u5EA6",GPSLongitude:"GPS \u7ECF\u5EA6",GPSAltitude:"GPS \u6D77\u62D4",GPSDateStamp:"GPS \u65E5\u671F",GPSTimeStamp:"GPS \u65F6\u95F4",GPSFormatted:"GPS \u4F4D\u7F6E\uFF08\u683C\u5F0F\u5316\uFF09",GPSAltitudeFormatted:"GPS \u6D77\u62D4\uFF08\u683C\u5F0F\u5316\uFF09",GPSLatitudeRef:"GPS \u7EAC\u5EA6\u53C2\u8003",GPSLongitudeRef:"GPS \u7ECF\u5EA6\u53C2\u8003",GPSAltitudeRef:"GPS \u6D77\u62D4\u53C2\u8003",GPSProcessingMethod:"GPS \u5904\u7406\u65B9\u6CD5",GPSAreaInformation:"GPS \u533A\u57DF\u4FE1\u606F",Orientation:"\u65B9\u5411",ISO:"ISO \u611F\u5149\u5EA6",ISOSpeedRatings:"ISO \u901F\u5EA6\u7B49\u7EA7",ExposureTime:"\u66DD\u5149\u65F6\u95F4",ShutterSpeed:"\u5FEB\u95E8\u901F\u5EA6",ShutterSpeedValue:"\u5FEB\u95E8\u901F\u5EA6\u503C",FNumber:"\u5149\u5708\u503C",Aperture:"\u5149\u5708",ApertureValue:"\u5149\u5708\u503C",FocalLength:"\u7126\u8DDD",FocalLengthIn35mmFilm:"35mm \u7B49\u6548\u7126\u8DDD",Flash:"\u95EA\u5149\u706F",FlashMode:"\u95EA\u5149\u6A21\u5F0F",WhiteBalance:"\u767D\u5E73\u8861",ExposureMode:"\u66DD\u5149\u6A21\u5F0F",ExposureProgram:"\u66DD\u5149\u7A0B\u5E8F",ExposureBiasValue:"\u66DD\u5149\u8865\u507F",MeteringMode:"\u6D4B\u5149\u6A21\u5F0F",LensModel:"\u955C\u5934\u578B\u53F7",LensMake:"\u955C\u5934\u54C1\u724C",LensSpecification:"\u955C\u5934\u89C4\u683C",BrightnessValue:"\u4EAE\u5EA6\u503C",Contrast:"\u5BF9\u6BD4\u5EA6",Saturation:"\u9971\u548C\u5EA6",Sharpness:"\u9510\u5EA6",SceneType:"\u573A\u666F\u7C7B\u578B",SceneCaptureType:"\u573A\u666F\u6355\u83B7\u7C7B\u578B",CustomRendered:"\u81EA\u5B9A\u4E49\u6E32\u67D3",DigitalZoomRatio:"\u6570\u5B57\u53D8\u7126\u6BD4",Keywords:"\u5173\u952E\u8BCD",Caption:"\u8BF4\u660E",Headline:"\u6807\u9898",Credit:"\u6765\u6E90",Source:"\u6765\u6E90",Title:"\u6807\u9898",Description:"\u63CF\u8FF0",Subject:"\u4E3B\u9898",Creator:"\u521B\u5EFA\u8005",Rights:"\u6743\u9650",Compression:"\u538B\u7F29",BitsPerSample:"\u6BCF\u6837\u672C\u4F4D\u6570",PhotometricInterpretation:"\u5149\u5EA6\u89E3\u91CA",PlanarConfiguration:"\u5E73\u9762\u914D\u7F6E",SamplesPerPixel:"\u6BCF\u50CF\u7D20\u6837\u672C\u6570",YCbCrSubSampling:"YCbCr \u5B50\u91C7\u6837",YCbCrPositioning:"YCbCr \u5B9A\u4F4D",FileSource:"\u6587\u4EF6\u6765\u6E90",CFAPattern:"CFA \u6A21\u5F0F",SensingMethod:"\u611F\u5149\u65B9\u6CD5",DeviceSettingDescription:"\u8BBE\u5907\u8BBE\u7F6E\u63CF\u8FF0",UserComment:"\u7528\u6237\u8BC4\u8BBA",RelatedSoundFile:"\u76F8\u5173\u97F3\u9891\u6587\u4EF6",Thumbnail:"\u7F29\u7565\u56FE",SubfileType:"\u5B50\u6587\u4EF6\u7C7B\u578B",OldSubfileType:"\u65E7\u5B50\u6587\u4EF6\u7C7B\u578B",ImageDescription:"\u56FE\u50CF\u63CF\u8FF0",DocumentName:"\u6587\u6863\u540D\u79F0",PageName:"\u9875\u9762\u540D\u79F0",PageNumber:"\u9875\u7801",HostComputer:"\u4E3B\u673A\u8BA1\u7B97\u673A",Predictor:"\u9884\u6D4B\u5668",ExtraSamples:"\u989D\u5916\u6837\u672C",SampleFormat:"\u6837\u672C\u683C\u5F0F",TransferFunction:"\u4F20\u9012\u51FD\u6570",ReferenceBlackWhite:"\u53C2\u8003\u9ED1\u767D",StripOffsets:"\u6761\u5E26\u504F\u79FB",RowsPerStrip:"\u6BCF strip \u884C\u6570",StripByteCounts:"\u6761\u5E26\u5B57\u8282\u6570",JPEGInterchangeFormat:"JPEG \u4EA4\u6362\u683C\u5F0F",JPEGInterchangeFormatLength:"JPEG \u4EA4\u6362\u683C\u5F0F\u957F\u5EA6",JPEGLosslessPredictors:"JPEG \u65E0\u635F\u9884\u6D4B\u5668",JPEGPointTransforms:"JPEG \u70B9\u53D8\u6362",JPEGQTables:"JPEG Q \u8868",JPEGDCTables:"JPEG DC \u8868",JPEGACTables:"JPEG AC \u8868",YCbCrCoefficients:"YCbCr \u7CFB\u6570",XMP:"XMP \u6570\u636E",IPTC:"IPTC \u6570\u636E",ICC:"ICC \u989C\u8272\u914D\u7F6E"};if(r[t])return r[t];for(var e=t.toLowerCase(),n=0,i=Object.entries(r);n<i.length;n++){var a=y()(i[n],2),u=a[0],l=a[1];if(u.toLowerCase()===e)return l}return e.includes("thumbnail")?e.includes("width")?"\u7F29\u7565\u56FE\u5BBD\u5EA6":e.includes("height")?"\u7F29\u7565\u56FE\u9AD8\u5EA6":e.includes("image")?"\u7F29\u7565\u56FE":e.includes("offset")?"\u7F29\u7565\u56FE\u504F\u79FB":e.includes("length")?"\u7F29\u7565\u56FE\u957F\u5EA6":"\u7F29\u7565\u56FE":e.includes("image")?e.includes("width")?"\u56FE\u7247\u5BBD\u5EA6":e.includes("height")?"\u56FE\u7247\u9AD8\u5EA6":"\u56FE\u7247":e.includes("datetime")?"\u65E5\u671F\u65F6\u95F4":e.includes("gps")?e.includes("latitude")?"GPS \u7EAC\u5EA6":e.includes("longitude")?"GPS \u7ECF\u5EA6":e.includes("altitude")?"GPS \u6D77\u62D4":e.includes("date")?"GPS \u65E5\u671F":e.includes("time")?"GPS \u65F6\u95F4":t.replace(/GPS/gi,"GPS "):e.includes("exposure")?e.includes("time")?"\u66DD\u5149\u65F6\u95F4":e.includes("mode")?"\u66DD\u5149\u6A21\u5F0F":e.includes("program")?"\u66DD\u5149\u7A0B\u5E8F":e.includes("bias")?"\u66DD\u5149\u8865\u507F":"\u66DD\u5149":e.includes("focal")?e.includes("35mm")?"35mm \u7B49\u6548\u7126\u8DDD":"\u7126\u8DDD":e.includes("iso")?"ISO \u611F\u5149\u5EA6":e.includes("flash")?e.includes("mode")?"\u95EA\u5149\u6A21\u5F0F":"\u95EA\u5149\u706F":e.includes("whitebalance")?"\u767D\u5E73\u8861":e.includes("orientation")?"\u65B9\u5411":e.includes("resolution")?e.includes("x")||e.includes("horizontal")?"\u6C34\u5E73\u5206\u8FA8\u7387":e.includes("y")||e.includes("vertical")?"\u5782\u76F4\u5206\u8FA8\u7387":"\u5206\u8FA8\u7387":e.includes("width")?"\u5BBD\u5EA6":e.includes("height")?"\u9AD8\u5EA6":e.includes("color")?e.includes("space")?"\u989C\u8272\u7A7A\u95F4":"\u989C\u8272":e.includes("copyright")?"\u7248\u6743":e.includes("artist")?"\u4F5C\u8005":e.includes("software")?"\u8F6F\u4EF6":e.includes("make")?"\u54C1\u724C":e.includes("model")?e.includes("lens")?"\u955C\u5934\u578B\u53F7":"\u578B\u53F7":e.includes("lens")?e.includes("make")?"\u955C\u5934\u54C1\u724C":e.includes("spec")?"\u955C\u5934\u89C4\u683C":"\u955C\u5934":e.includes("shutter")?e.includes("speed")?"\u5FEB\u95E8\u901F\u5EA6":"\u5FEB\u95E8":e.includes("aperture")?"\u5149\u5708":e.includes("fnumber")?"\u5149\u5708\u503C":e.includes("metering")?"\u6D4B\u5149\u6A21\u5F0F":e.includes("brightness")?"\u4EAE\u5EA6":e.includes("contrast")?"\u5BF9\u6BD4\u5EA6":e.includes("saturation")?"\u9971\u548C\u5EA6":e.includes("sharpness")?"\u9510\u5EA6":e.includes("scene")?e.includes("type")?"\u573A\u666F\u7C7B\u578B":e.includes("capture")?"\u573A\u666F\u6355\u83B7\u7C7B\u578B":"\u573A\u666F":e.includes("compression")?"\u538B\u7F29":e.includes("bits")?"\u6BCF\u6837\u672C\u4F4D\u6570":e.includes("samples")?"\u6BCF\u50CF\u7D20\u6837\u672C\u6570":e.includes("keyword")?"\u5173\u952E\u8BCD":e.includes("caption")?"\u8BF4\u660E":e.includes("headline")?"\u6807\u9898":e.includes("credit")||e.includes("source")?"\u6765\u6E90":e.includes("title")?"\u6807\u9898":e.includes("description")?"\u63CF\u8FF0":e.includes("subject")?"\u4E3B\u9898":e.includes("creator")?"\u521B\u5EFA\u8005":e.includes("rights")?"\u6743\u9650":e.includes("comment")?"\u8BC4\u8BBA":e.includes("zoom")?"\u53D8\u7126\u6BD4":e.includes("digital")?"\u6570\u5B57":t},h=function(t,r){if(r==null)return"\u65E0";if(typeof r=="boolean")return r?"\u662F":"\u5426";var e=t.toLowerCase(),n=String(r).toLowerCase();if(e.includes("colorspace")){var i={1:"sRGB",65535:"\u672A\u6821\u51C6",0:"\u672A\u6821\u51C6"};return i[String(r)]||String(r)}if(e.includes("exposuremode")){var a={0:"\u81EA\u52A8\u66DD\u5149",1:"\u624B\u52A8\u66DD\u5149",2:"\u81EA\u52A8\u5305\u56F4\u66DD\u5149"};return a[String(r)]||String(r)}if(e.includes("exposureprogram")){var u={0:"\u672A\u5B9A\u4E49",1:"\u624B\u52A8",2:"\u6807\u51C6\u7A0B\u5E8F",3:"\u5149\u5708\u4F18\u5148",4:"\u5FEB\u95E8\u4F18\u5148",5:"\u521B\u610F\u7A0B\u5E8F",6:"\u52A8\u4F5C\u7A0B\u5E8F",7:"\u8096\u50CF\u6A21\u5F0F",8:"\u98CE\u666F\u6A21\u5F0F"};return u[String(r)]||String(r)}if(e.includes("meteringmode")){var l={0:"\u672A\u77E5",1:"\u5E73\u5747\u6D4B\u5149",2:"\u4E2D\u592E\u91CD\u70B9\u6D4B\u5149",3:"\u70B9\u6D4B\u5149",4:"\u591A\u70B9\u6D4B\u5149",5:"\u591A\u533A\u57DF\u6D4B\u5149",6:"\u90E8\u5206\u6D4B\u5149",255:"\u5176\u4ED6"};return l[String(r)]||String(r)}if(e.includes("whitebalance")){if(r===0||n==="auto"||n==="0")return"\u81EA\u52A8";if(r===1||n==="manual"||n==="1")return"\u624B\u52A8"}if(e.includes("flash")){var m={0:"\u672A\u4F7F\u7528\u95EA\u5149\u706F",1:"\u4F7F\u7528\u95EA\u5149\u706F",5:"\u95EA\u5149\u706F\u5DF2\u89E6\u53D1\uFF0C\u4F46\u672A\u68C0\u6D4B\u5230\u53CD\u5C04\u5149",7:"\u95EA\u5149\u706F\u5DF2\u89E6\u53D1\uFF0C\u68C0\u6D4B\u5230\u53CD\u5C04\u5149",9:"\u95EA\u5149\u706F\u5DF2\u89E6\u53D1\uFF0C\u5F3A\u5236\u95EA\u5149\u6A21\u5F0F",13:"\u95EA\u5149\u706F\u5DF2\u89E6\u53D1\uFF0C\u5F3A\u5236\u95EA\u5149\u6A21\u5F0F\uFF0C\u672A\u68C0\u6D4B\u5230\u53CD\u5C04\u5149",15:"\u95EA\u5149\u706F\u5DF2\u89E6\u53D1\uFF0C\u5F3A\u5236\u95EA\u5149\u6A21\u5F0F\uFF0C\u68C0\u6D4B\u5230\u53CD\u5C04\u5149",16:"\u672A\u4F7F\u7528\u95EA\u5149\u706F\uFF0C\u5F3A\u5236\u95EA\u5149\u6A21\u5F0F\u5173\u95ED",24:"\u672A\u4F7F\u7528\u95EA\u5149\u706F\uFF0C\u81EA\u52A8\u6A21\u5F0F",25:"\u95EA\u5149\u706F\u5DF2\u89E6\u53D1\uFF0C\u81EA\u52A8\u6A21\u5F0F",29:"\u95EA\u5149\u706F\u5DF2\u89E6\u53D1\uFF0C\u81EA\u52A8\u6A21\u5F0F\uFF0C\u672A\u68C0\u6D4B\u5230\u53CD\u5C04\u5149",31:"\u95EA\u5149\u706F\u5DF2\u89E6\u53D1\uFF0C\u81EA\u52A8\u6A21\u5F0F\uFF0C\u68C0\u6D4B\u5230\u53CD\u5C04\u5149"};return m[String(r)]||String(r)}if(e.includes("orientation")){var f={1:"\u6B63\u5E38 (0\xB0)",2:"\u6C34\u5E73\u7FFB\u8F6C",3:"\u65CB\u8F6C 180\xB0",4:"\u5782\u76F4\u7FFB\u8F6C",5:"\u987A\u65F6\u9488\u65CB\u8F6C 90\xB0 \u540E\u6C34\u5E73\u7FFB\u8F6C",6:"\u987A\u65F6\u9488\u65CB\u8F6C 90\xB0",7:"\u9006\u65F6\u9488\u65CB\u8F6C 90\xB0 \u540E\u6C34\u5E73\u7FFB\u8F6C",8:"\u9006\u65F6\u9488\u65CB\u8F6C 90\xB0"};if(typeof r=="number"&&f[r])return f[r]}if(e.includes("scenetype")){var s={0:"\u672A\u5B9A\u4E49",1:"\u76F4\u63A5\u62CD\u6444"};return s[String(r)]||String(r)}if(e.includes("scenecapturetype")){var p={0:"\u6807\u51C6",1:"\u98CE\u666F",2:"\u8096\u50CF",3:"\u591C\u666F"};return p[String(r)]||String(r)}if(e.includes("customrendered")){var S={0:"\u6B63\u5E38\u5904\u7406",1:"\u81EA\u5B9A\u4E49\u5904\u7406"};return S[String(r)]||String(r)}if(e.includes("sensingmethod")){var g={1:"\u672A\u5B9A\u4E49",2:"\u5355\u82AF\u7247\u989C\u8272\u533A\u57DF\u4F20\u611F\u5668",3:"\u53CC\u82AF\u7247\u989C\u8272\u533A\u57DF\u4F20\u611F\u5668",4:"\u4E09\u82AF\u7247\u989C\u8272\u533A\u57DF\u4F20\u611F\u5668",5:"\u989C\u8272\u5E8F\u5217\u533A\u57DF\u4F20\u611F\u5668",7:"\u4E09\u7EBF\u4F20\u611F\u5668",8:"\u989C\u8272\u5E8F\u5217\u7EBF\u6027\u4F20\u611F\u5668"};return g[String(r)]||String(r)}if(e.includes("filesource")){var Q={0:"\u672A\u77E5",1:"\u80F6\u7247\u626B\u63CF\u4EEA",2:"\u53CD\u5C04\u5F0F\u6253\u5370\u626B\u63CF\u4EEA",3:"\u6570\u7801\u76F8\u673A"};return Q[String(r)]||String(r)}if(e.includes("compression")){var $={1:"\u672A\u538B\u7F29",6:"JPEG \u538B\u7F29"};return $[String(r)]||String(r)}if(e.includes("photometricinterpretation")){var R={0:"\u767D\u70B9\u4E3A\u96F6",1:"\u9ED1\u70B9\u4E3A\u96F6",2:"RGB",3:"\u8C03\u8272\u677F\u989C\u8272",4:"\u900F\u660E\u5EA6\u906E\u7F69",5:"CMYK",6:"YCbCr",8:"CIELab",9:"ICCLab",10:"ITULab"};return R[String(r)]||String(r)}if(e.includes("planarconfiguration")){var E={1:"\u5757",2:"\u5E73\u9762"};return E[String(r)]||String(r)}if(e.includes("ycbcrpositioning")){var v={1:"\u5C45\u4E2D",2:"\u5171\u4F4D"};return v[String(r)]||String(r)}if(e.includes("gpslatituderef")||e.includes("gpslongituderef")){if(n==="n"||n==="north")return"\u5317";if(n==="s"||n==="south")return"\u5357";if(n==="e"||n==="east")return"\u4E1C";if(n==="w"||n==="west")return"\u897F"}if(e.includes("gpsaltituderef")){if(n==="0"||n==="above")return"\u6D77\u5E73\u9762\u4EE5\u4E0A";if(n==="1"||n==="below")return"\u6D77\u5E73\u9762\u4EE5\u4E0B"}if(e.includes("resolutionunit")){var J={1:"\u65E0\u5355\u4F4D",2:"\u82F1\u5BF8",3:"\u5398\u7C73"};return J[String(r)]||String(r)}if(e.includes("contrast")||e.includes("saturation")||e.includes("sharpness")){var T={0:"\u6B63\u5E38",1:"\u67D4\u548C",2:"\u5F3A\u70C8"};return T[String(r)]||String(r)}return e.includes("digitalzoomratio")&&typeof r=="number"?r===0||r===1?"\u672A\u4F7F\u7528\u6570\u5B57\u53D8\u7126":"".concat(r.toFixed(2),"x"):String(r)},nr=function(t){if(t==null)return"\u65E0";var r={1:"\u6B63\u5E38 (0\xB0)",2:"\u6C34\u5E73\u7FFB\u8F6C",3:"\u65CB\u8F6C 180\xB0",4:"\u5782\u76F4\u7FFB\u8F6C",5:"\u987A\u65F6\u9488\u65CB\u8F6C 90\xB0 \u540E\u6C34\u5E73\u7FFB\u8F6C",6:"\u987A\u65F6\u9488\u65CB\u8F6C 90\xB0",7:"\u9006\u65F6\u9488\u65CB\u8F6C 90\xB0 \u540E\u6C34\u5E73\u7FFB\u8F6C",8:"\u9006\u65F6\u9488\u65CB\u8F6C 90\xB0"};return typeof t=="number"&&r[t]?"".concat(t," - ").concat(r[t]):String(t)},He=function(t){return t==null?"\u65E0":typeof t=="number"?"".concat(t.toFixed(0)," dpi"):String(t)},ir=function(t){if(t==null)return"N/A";if(typeof t=="number"){var r={0:"\u672A\u4F7F\u7528\u95EA\u5149\u706F",1:"\u4F7F\u7528\u95EA\u5149\u706F",5:"\u95EA\u5149\u706F\u5DF2\u89E6\u53D1\uFF0C\u4F46\u672A\u68C0\u6D4B\u5230\u53CD\u5C04\u5149",7:"\u95EA\u5149\u706F\u5DF2\u89E6\u53D1\uFF0C\u68C0\u6D4B\u5230\u53CD\u5C04\u5149"};return r[t]||"\u503C: ".concat(t)}return String(t)},ar=function(t){return t==null?"N/A":typeof t=="number"?t===0?"\u81EA\u52A8":"\u624B\u52A8":String(t)},Qe=function(t,r){if(!Array.isArray(r)||r.length===0)return Array.isArray(r)?"\u7A7A\u6570\u7EC4":String(r);var e=t.toLowerCase();if(e.includes("gpstimestamp")&&r.length===3){var n=r.map(function(g){return typeof g=="number"?g:parseFloat(String(g))}),i=y()(n,3),a=i[0],u=i[1],l=i[2];if(!isNaN(a)&&!isNaN(u)&&!isNaN(l)){var m=Math.floor(a),f=Math.floor(u),s=parseFloat(l.toFixed(2)),p=f<10?"0".concat(f):"".concat(f),S=s<10?"0".concat(s.toFixed(2)):s.toFixed(2);return"".concat(m,":").concat(p,":").concat(S)}}return r.every(function(g){return typeof g=="number"})||r.every(function(g){return typeof g=="string"})?r.join(", "):JSON.stringify(r,null,2)},$e=function(t,r){if(r==null)return"\u65E0";if(Array.isArray(r))return Qe(t,r);if(C()(r)==="object"){var e=Object.entries(r);if(e.length===0)return"\u7A7A\u5BF9\u8C61";var n=t.toLowerCase();if((r.latitude||r.lat)&&(r.longitude||r.lon)){var i=r.latitude||r.lat,a=r.longitude||r.lon;if(typeof i=="number"&&typeof a=="number")return le(i,a)}return e.length<=5&&e.every(function(u){var l=y()(u,2),m=l[0],f=l[1];return typeof f=="string"||typeof f=="number"||typeof f=="boolean"})?e.map(function(u){var l=y()(u,2),m=l[0],f=l[1],s=de(m,f);return"".concat(m,": ").concat(s)}).join(`
`):JSON.stringify(r,null,2)}return String(r)},de=function(t,r){if(r==null)return"\u65E0";var e=t.toLowerCase();if(Array.isArray(r)||C()(r)==="object"&&r!==null)return $e(t,r);if(e.includes("gpslatitude")||e.includes("gpslongitude"))return typeof r=="number"?r.toFixed(6):h(t,r);if(e.includes("gpsformatted"))return String(r);if(e.includes("gpsaltitude"))return typeof r=="number"?"".concat(r.toFixed(2)," \u7C73"):h(t,r);if(e.includes("date")||e.includes("time")||e.includes("datetime"))return We(r);if(e.includes("exposuretime")||e.includes("shutterspeed"))return Ue(r);if(e.includes("fnumber")||e.includes("aperture"))return Ye(r);if(e.includes("focallength"))return Xe(r);if(e.includes("orientation"))return h(t,r);if(e.includes("resolution"))return He(r);if(e.includes("flash")||e.includes("whitebalance")||e.includes("exposuremode")||e.includes("exposureprogram")||e.includes("meteringmode"))return h(t,r);if(e.includes("iso"))return typeof r=="number"?"ISO ".concat(r):h(t,r);if(e.includes("colorspace"))return h(t,r);if(e.includes("width")&&typeof r=="number"||e.includes("height")&&typeof r=="number")return"".concat(r," \u50CF\u7D20");if(typeof r=="boolean")return h(t,r);if(typeof r=="number"){var n=h(t,r);return n===String(r)?r.toString():n}var i=h(t,r);return i},j=function c(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t==null?e:Array.isArray(t)?(t.forEach(function(n,i){var a=r?"".concat(r,"[").concat(i,"]"):"[".concat(i,"]");C()(n)==="object"&&n!==null&&!Array.isArray(n)||Array.isArray(n)?c(n,a,e):e[a]=n}),e):C()(t)==="object"?(Object.keys(t).forEach(function(n){var i=t[n],a=r?"".concat(r,".").concat(n):n;i==null?e[a]=i:Array.isArray(i)||C()(i)==="object"?c(i,a,e):e[a]=i}),e):(e[r]=t,e)},ke=function(t,r){var e={basic:{},exif:{},iptc:{},xmp:{},icc:{},gps:{}};return r&&(e.basic.\u6587\u4EF6\u540D=r.name,e.basic.\u6587\u4EF6\u5927\u5C0F=r.sizeFormatted,e.basic.\u6587\u4EF6\u7C7B\u578B=r.type||"\u65E0",e.basic.\u6700\u540E\u4FEE\u6539\u65F6\u95F4=r.lastModified),Object.keys(t).forEach(function(n){var i=t[n],a=n.toLowerCase();if(i!=null&&(Array.isArray(i)||C()(i)==="object")){var u=!1;if(a.includes("gps")||C()(i)==="object"&&!Array.isArray(i)&&(i.latitude||i.lat||i.longitude||i.lon)?(e.gps[n]||(e.gps[n]={}),C()(i)==="object"&&!Array.isArray(i)?Object.keys(i).forEach(function(f){e.gps["".concat(n,".").concat(f)]=i[f]}):j(i,n,e.gps),u=!0):a.startsWith("iptc")||a.includes("iptc")?(e.iptc[n]||(e.iptc[n]={}),j(i,n,e.iptc),u=!0):a.startsWith("xmp")||a.includes("xmp")?(e.xmp[n]||(e.xmp[n]={}),j(i,n,e.xmp),u=!0):a.startsWith("icc")||a.includes("icc")||a.includes("color")?(e.icc[n]||(e.icc[n]={}),j(i,n,e.icc),u=!0):(a.startsWith("exif")||["make","model","datetime","orientation","iso","fnumber","exposuretime","focallength"].some(function(f){return a.includes(f)}))&&(e.exif[n]||(e.exif[n]={}),j(i,n,e.exif),u=!0),!u){var l=Z(n)||n;e[l]||(e[l]={}),j(i,n,e[l])}}else if(a.includes("gps")||a.includes("latitude")||a.includes("longitude")||a.includes("altitude"))e.gps[n]=i;else if(a.startsWith("iptc")||a.includes("iptc"))e.iptc[n]=i;else if(a.startsWith("xmp")||a.includes("xmp"))e.xmp[n]=i;else if(a.startsWith("icc")||a.includes("icc")||a.includes("color"))e.icc[n]=i;else if(a.startsWith("exif")||["make","model","datetime","orientation","iso","fnumber","exposuretime","focallength"].some(function(f){return a.includes(f)}))e.exif[n]=i;else if(["width","height","mimetype","colorspace"].includes(a))e.basic[n]=i;else{var m=Z(n)||n;e[m]||(e[m]={}),e[m][n]=i}}),e},qe=function(){var c=z()(w()().mark(function t(){return w()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(U){e.next=3;break}return F.ZP.warning("\u8BF7\u5148\u4E0A\u4F20\u56FE\u7247"),e.abrupt("return");case 3:Ee.Z.confirm({title:"\u786E\u8BA4\u5220\u9664\u5143\u6570\u636E",content:"\u6B64\u64CD\u4F5C\u5C06\u5220\u9664\u56FE\u7247\u4E2D\u7684\u6240\u6709\u5143\u6570\u636E\u4FE1\u606F\uFF08\u5305\u62EC EXIF\u3001GPS\u3001IPTC \u7B49\uFF09\uFF0C\u751F\u6210\u8131\u654F\u540E\u7684\u56FE\u7247\u3002\u662F\u5426\u7EE7\u7EED\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var n=z()(w()().mark(function a(){var u,l,m,f;return w()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,G(!0),F.ZP.loading({content:"\u6B63\u5728\u5904\u7406\u56FE\u7247...",key:"removeMetadata",duration:0}),u=document.createElement("img"),u.crossOrigin="anonymous",p.next=7,new Promise(function(S,g){u.onload=function(){return S()},u.onerror=function(){return g(new Error("\u56FE\u7247\u52A0\u8F7D\u5931\u8D25"))},u.src=A});case 7:if(l=document.createElement("canvas"),l.width=u.width,l.height=u.height,m=l.getContext("2d"),m){p.next=13;break}throw new Error("\u65E0\u6CD5\u521B\u5EFA canvas \u4E0A\u4E0B\u6587");case 13:m.drawImage(u,0,0),f=m.getImageData(0,0,l.width,l.height),m.clearRect(0,0,l.width,l.height),m.putImageData(f,0,0),l.toBlob(function(S){if(!S)throw new Error("\u65E0\u6CD5\u751F\u6210\u56FE\u7247");var g=URL.createObjectURL(S);oe(g),te(g);var Q=function(){var $=z()(w()().mark(function R(){var E,v,J,T,V,me,pe;return w()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.prev=0,E=new FileReader,P.next=4,new Promise(function(I,b){E.onload=function(){return I()},E.onerror=function(){return b(new Error("\u8BFB\u53D6\u6587\u4EF6\u5931\u8D25"))},E.readAsArrayBuffer(S)});case 4:if(v=E.result,!v){P.next=18;break}return J=new File([v],"sanitized.png",{type:"image/png"}),P.next=9,O.ZP.parse(J,{iptc:!0,xmp:!0,icc:!0,jfif:!0,ihdr:!1,gps:!0,translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!1,mergeOutput:!1});case 9:T=P.sent,V={},Object.keys(T).forEach(function(I){var b=I.toLowerCase();!b.includes("ihdr")&&!b.includes("width")&&!b.includes("height")&&!b.includes("bitdepth")&&!b.includes("colortype")&&!b.includes("compression")&&!b.includes("filter")&&!b.includes("interlace")&&(V[I]=T[I])}),B({}),L(""),me=M()(M()({},N),{},{size:S.size,sizeFormatted:X(S.size),type:"image/png"}),W(me),Object.keys(V).length>0?(console.warn("\u4ECD\u6709\u6B8B\u7559\u5143\u6570\u636E:",V),F.ZP.warning({content:"\u90E8\u5206\u5143\u6570\u636E\u53EF\u80FD\u672A\u5B8C\u5168\u6E05\u9664",key:"removeMetadata"})):F.ZP.success({content:"\u5143\u6570\u636E\u5DF2\u6210\u529F\u5220\u9664",key:"removeMetadata"}),G(!1);case 18:P.next=29;break;case 20:P.prev=20,P.t0=P.catch(0),console.error("\u9A8C\u8BC1\u5143\u6570\u636E\u5931\u8D25:",P.t0),B({}),L(""),pe=M()(M()({},N),{},{size:S.size,sizeFormatted:X(S.size),type:"image/png"}),W(pe),F.ZP.success({content:"\u5143\u6570\u636E\u5DF2\u6210\u529F\u5220\u9664",key:"removeMetadata"}),G(!1);case 29:case"end":return P.stop()}},R,null,[[0,20]])}));return function(){return $.apply(this,arguments)}}();Q()},"image/png"),p.next=25;break;case 20:p.prev=20,p.t0=p.catch(0),console.error("\u5220\u9664\u5143\u6570\u636E\u5931\u8D25:",p.t0),F.ZP.error({content:"\u5220\u9664\u5143\u6570\u636E\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5",key:"removeMetadata"}),G(!1);case 25:case"end":return p.stop()}},a,null,[[0,20]])}));function i(){return n.apply(this,arguments)}return i}()});case 4:case"end":return e.stop()}},t)}));return function(){return c.apply(this,arguments)}}(),_e=function(){if(!Y&&!A){F.ZP.warning("\u6CA1\u6709\u53EF\u4E0B\u8F7D\u7684\u56FE\u7247");return}var t=Y||A,r=document.createElement("a");r.href=t,r.download=U?"sanitized_".concat(U.name):"sanitized_image.jpg",document.body.appendChild(r),r.click(),document.body.removeChild(r),F.ZP.success("\u56FE\u7247\u4E0B\u8F7D\u6210\u529F")},er={name:"file",multiple:!1,accept:"image/*",beforeUpload:function(t){return Ke(t),!1},showUploadList:!1},H=ke(ie,N),fe=Object.keys(ie).length>0||N;return(0,o.jsxs)("div",{className:"image-analyzer-container",children:[(0,o.jsx)(Te,{level:2,children:"\u56FE\u7247\u5143\u6570\u636E\u5206\u6790\u5DE5\u5177"}),(0,o.jsxs)("div",{className:"upload-preview-wrapper",children:[(0,o.jsx)(D.Z,{title:"\u4E0A\u4F20\u56FE\u7247",className:"upload-card",children:(0,o.jsxs)(ve,M()(M()({},er),{},{children:[(0,o.jsx)("p",{className:"ant-upload-drag-icon",children:(0,o.jsx)(Fe.Z,{})}),(0,o.jsx)("p",{className:"ant-upload-text",children:"\u70B9\u51FB\u6216\u62D6\u62FD\u56FE\u7247\u5230\u6B64\u533A\u57DF\u4E0A\u4F20"}),(0,o.jsx)("p",{className:"ant-upload-hint",children:"\u652F\u6301\u89E3\u6790 EXIF\u3001IPTC\u3001XMP\u3001ICC \u7B49\u6240\u6709\u7C7B\u578B\u7684\u5143\u6570\u636E\u4FE1\u606F"})]}))}),(0,o.jsx)(D.Z,{title:"\u56FE\u7247\u9884\u89C8",className:"preview-card",children:K?(0,o.jsxs)("div",{className:"preview-loading",children:[(0,o.jsx)(Me.Z,{size:"large"}),(0,o.jsx)("p",{style:{marginTop:16,color:"#8c8c8c"},children:"\u6B63\u5728\u89E3\u6790\u56FE\u7247\u5143\u6570\u636E..."})]}):A?(0,o.jsx)(Ge.Z,{src:A,alt:"\u9884\u89C8",style:{maxWidth:"100%"}}):(0,o.jsxs)("div",{className:"preview-placeholder",children:[(0,o.jsx)("p",{children:"\u6682\u65E0\u9884\u89C8\u56FE\u7247"}),(0,o.jsx)("p",{style:{color:"#8c8c8c",fontSize:"14px",marginTop:"8px"},children:"\u4E0A\u4F20\u56FE\u7247\u540E\u5C06\u5728\u6B64\u663E\u793A\u9884\u89C8"})]})})]}),fe&&!K&&(0,o.jsx)(D.Z,{title:"\u5143\u6570\u636E\u4FE1\u606F",className:"metadata-card",extra:(0,o.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,o.jsx)(q.ZP,{type:"primary",danger:!0,icon:(0,o.jsx)(be.Z,{}),onClick:qe,children:"\u5220\u9664\u5143\u6570\u636E\uFF08\u8131\u654F\uFF09"}),Y&&(0,o.jsx)(q.ZP,{type:"primary",icon:(0,o.jsx)(Ce.Z,{}),onClick:_e,children:"\u4E0B\u8F7D\u8131\u654F\u56FE\u7247"})]}),children:(0,o.jsx)(Ae.Z,{defaultActiveKey:"parsed",items:[{key:"parsed",label:"\u89E3\u6790\u540E\u7684\u6570\u636E",children:(0,o.jsx)(je.Z,{defaultActiveKey:["basic"],items:Object.keys(H).filter(function(c){return Object.keys(H[c]).length>0}).map(function(c){var t=H[c],r={basic:"\u57FA\u672C\u4FE1\u606F",exif:"EXIF \u6570\u636E",iptc:"IPTC \u6570\u636E",xmp:"XMP \u6570\u636E",icc:"ICC \u989C\u8272\u914D\u7F6E",gps:"GPS \u4F4D\u7F6E\u4FE1\u606F"};return{key:c,label:r[c]||Z(c)||c,children:(0,o.jsx)(_.Z,{bordered:!0,column:1,size:"small",children:Object.keys(t).map(function(e){return(0,o.jsx)(_.Z.Item,{label:(0,o.jsx)("span",{style:{fontFamily:"monospace"},children:Z(e)}),children:(0,o.jsx)("pre",{style:{margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:de(e,t[e])})},e)})})}})})},{key:"raw",label:"\u539F\u59CB\u6570\u636E",children:(0,o.jsx)("pre",{className:"raw-metadata-pre",style:{margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word",maxHeight:"600px",overflow:"auto"},children:Ne||"\u6682\u65E0\u539F\u59CB\u6570\u636E"})}]})}),!fe&&!K&&A&&(0,o.jsx)(D.Z,{className:"no-metadata-card",children:(0,o.jsx)("p",{children:"\u8BE5\u56FE\u7247\u672A\u5305\u542B\u53EF\u8BC6\u522B\u7684\u5143\u6570\u636E\u4FE1\u606F"})})]})},ze=Ie}}]);
